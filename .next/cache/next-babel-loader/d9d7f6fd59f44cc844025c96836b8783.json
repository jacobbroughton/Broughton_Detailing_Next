{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { useAppContext } from \"./comps/context.js\";\nimport fetch from \"isomorphic-unfetch\";\nimport \"../public/static/css/allclients.scss\";\nimport Navbar from \"./comps/navbar\";\n\nconst AllClients = allClients => {\n  const {\n    statusUrl\n  } = useAppContext();\n  const {\n    0: clients,\n    1: setClients\n  } = useState([]);\n  useEffect(() => {\n    setClients(allClients); //     if (statusUrl !== \"\") {\n    //       axios\n    //         .get(`${statusUrl}/api/getclients`)\n    //         .then(response => setClients([...response.data]))\n    //         .catch(err => console.log(err));\n    //     }\n  }, []); // }, [statusUrl]);\n\n  return __jsx(\"div\", {\n    className: \"allMother\"\n  }, __jsx(\"div\", {\n    className: \"allMain\"\n  }, __jsx(\"section\", {\n    className: \"leftSect\"\n  }, __jsx(\"div\", {\n    className: \"headDiv\"\n  }, __jsx(\"h1\", {\n    className: \"head\"\n  }, \"Sign Ups\"))), __jsx(\"section\", {\n    className: \"rightSect\"\n  }, __jsx(\"div\", {\n    className: \"rightSectChild\"\n  }, clients.length !== 0 ? clients.map(client => __jsx(\"div\", {\n    key: client.id,\n    className: \"clientItem\"\n  }, __jsx(\"h3\", {\n    className: \"clientEmail\"\n  }, client.email))) : __jsx(\"div\", null, __jsx(\"h3\", null, \"No clients yet\"))))));\n};\n\nAllClients.getInitialProps = async ({\n  req,\n  query\n}) => {\n  const protocol = req ? `${req.headers[\"x-forwarded-proto\"]};` : location.protocol;\n  const host = req ? req.headers[\"x-forwarded-host\"] : location.host;\n  const pageRequest = `${protocol}//${host}/api/clients`;\n  const res = await fetch(pageRequest);\n  const json = await res.json();\n  return json;\n};\n\nexport default AllClients;","map":null,"metadata":{},"sourceType":"module"}