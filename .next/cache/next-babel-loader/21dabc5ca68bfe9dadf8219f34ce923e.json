{"ast":null,"code":"// Creates a connection to MySql database using credentials\n// exports a function that ensures connections are closed once the query has resolved\nconst mysql = require(\"serverless-mysql\");\n\nconsole.log(\"this is the db.js file\");\nconst db = mysql({\n  config: {\n    host: process.env.HOST,\n    database: process.env.DATABASE,\n    user: process.env.USERNAME,\n    password: process.env.PASSWORD\n  }\n});\n\nexports.query = async query => {\n  try {\n    const results = await db.query(query);\n    await db.end();\n    return results;\n  } catch (error) {\n    console.log(\"ERROR FROM DB\");\n    return {\n      error\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"script"}