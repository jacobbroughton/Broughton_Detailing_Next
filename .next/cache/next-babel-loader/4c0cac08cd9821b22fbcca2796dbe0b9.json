{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { useAppContext } from \"./comps/context.js\";\nimport fetch from \"isomorphic-unfetch\";\nimport \"../public/static/css/allclients.scss\";\nimport Navbar from \"./comps/navbar\";\n\nvar AllClients = function AllClients(allClients) {\n  var _useAppContext = useAppContext(),\n      statusUrl = _useAppContext.statusUrl;\n\n  var _useState = useState([]),\n      clients = _useState[0],\n      setClients = _useState[1];\n\n  useEffect(function () {\n    console.log(\"CLIENTS ON CLIENT SIDE: \");\n    console.log(allClients);\n    setClients([allClients]); //     if (statusUrl !== \"\") {\n    //       axios\n    //         .get(`${statusUrl}/api/getclients`)\n    //         .then(response => setClients([...response.data]))\n    //         .catch(err => console.log(err));\n    //     }\n  }, []); // }, [statusUrl]);\n\n  return __jsx(\"div\", {\n    className: \"allMother\"\n  }, __jsx(\"div\", {\n    className: \"allMain\"\n  }, __jsx(\"section\", {\n    className: \"leftSect\"\n  }, __jsx(\"div\", {\n    className: \"headDiv\"\n  }, __jsx(\"h1\", {\n    className: \"head\"\n  }, \"Sign Ups\"))), __jsx(\"section\", {\n    className: \"rightSect\"\n  }, __jsx(\"div\", {\n    className: \"rightSectChild\"\n  }, console.log(clients), clients.length !== 0 ? clients[0].json.map(function (client) {\n    return __jsx(\"div\", {\n      key: client.id,\n      className: \"clientItem\"\n    }, __jsx(\"h3\", {\n      className: \"clientEmail\"\n    }, client.email));\n  }) : __jsx(\"div\", null, __jsx(\"h3\", null, \"No clients yet\"))))));\n};\n\nAllClients.getInitialProps = function _callee(ctx) {\n  var res, json;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"https://www.broughtondetailing.com/api/clients\"));\n\n        case 2:\n          res = _context.sent;\n          console.log(\"getInitialProps res START\");\n          console.log(res);\n          console.log(\"getInitialProps res END\");\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 8:\n          json = _context.sent;\n          return _context.abrupt(\"return\", {\n            json: json\n          });\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default AllClients;","map":null,"metadata":{},"sourceType":"module"}