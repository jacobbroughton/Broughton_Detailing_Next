{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { useAppContext } from \"./comps/context.js\";\nimport fetch from \"isomorphic-unfetch\";\nimport \"../public/static/css/allclients.scss\";\nimport Navbar from \"./comps/navbar\";\n\nvar AllClients = function AllClients(allClients) {\n  var _useAppContext = useAppContext(),\n      statusUrl = _useAppContext.statusUrl;\n\n  var _useState = useState([]),\n      clients = _useState[0],\n      setClients = _useState[1];\n\n  useEffect(function () {\n    console.log(typeof allClients);\n    setClients([allClients]); //     if (statusUrl !== \"\") {\n    //       axios\n    //         .get(`${statusUrl}/api/getclients`)\n    //         .then(response => setClients([...response.data]))\n    //         .catch(err => console.log(err));\n    //     }\n  }, []); // }, [statusUrl]);\n\n  return __jsx(\"div\", {\n    className: \"allMother\"\n  }, __jsx(\"div\", {\n    className: \"allMain\"\n  }, __jsx(\"section\", {\n    className: \"leftSect\"\n  }, __jsx(\"div\", {\n    className: \"headDiv\"\n  }, __jsx(\"h1\", {\n    className: \"head\"\n  }, \"Sign Ups\"))), __jsx(\"section\", {\n    className: \"rightSect\"\n  }, __jsx(\"div\", {\n    className: \"rightSectChild\"\n  }, console.log(clients), clients.length !== 0 ? clients.map(function (client) {\n    return __jsx(\"div\", {\n      key: client.id,\n      className: \"clientItem\"\n    }, __jsx(\"h3\", {\n      className: \"clientEmail\"\n    }, client.email));\n  }) : __jsx(\"div\", null, __jsx(\"h3\", null, \"No clients yet\"))))));\n};\n\nAllClients.getInitialProps = function _callee(_ref) {\n  var req, query, res, json;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          req = _ref.req, query = _ref.query;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(\"http://localhost:5004/api/getclients\"));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 6:\n          json = _context.sent;\n          console.log(json);\n          return _context.abrupt(\"return\", json);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default AllClients;","map":{"version":3,"sources":["/Users/JacobBroughton/coding/work/broughton-detailing-next/pages/allclients.js"],"names":["React","useEffect","useState","useAppContext","fetch","Navbar","AllClients","allClients","statusUrl","clients","setClients","console","log","length","map","client","id","email","getInitialProps","req","query","res","json"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAO,sCAAP;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;AAKA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,UAAD,EAAgB;AAAA,uBACXJ,aAAa,EADF;AAAA,MACzBK,SADyB,kBACzBA,SADyB;;AAAA,kBAEHN,QAAQ,CAAC,EAAD,CAFL;AAAA,MAE1BO,OAF0B;AAAA,MAEjBC,UAFiB;;AAIjCT,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOL,UAAnB;AAEAG,IAAAA,UAAU,CAAC,CAACH,UAAD,CAAD,CAAV,CAHc,CAIlB;AACA;AACA;AACA;AACA;AACA;AACG,GAVQ,EAUN,EAVM,CAAT,CAJiC,CAejC;;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAS,IAAA,SAAS,EAAC;AAAnB,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAI,IAAA,SAAS,EAAC;AAAd,gBADF,CADF,CADF,EAME;AAAS,IAAA,SAAS,EAAC;AAAnB,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGI,OAAO,CAACC,GAAR,CAAYH,OAAZ,CADH,EAEGA,OAAO,CAACI,MAAR,KAAmB,CAAnB,GACCJ,OAAO,CAACK,GAAR,CAAY,UAAAC,MAAM;AAAA,WAChB;AAAK,MAAA,GAAG,EAAEA,MAAM,CAACC,EAAjB;AAAqB,MAAA,SAAS,EAAC;AAA/B,OACE;AAAI,MAAA,SAAS,EAAC;AAAd,OAA6BD,MAAM,CAACE,KAApC,CADF,CADgB;AAAA,GAAlB,CADD,GAOC,mBACE,mCADF,CATJ,CADF,CANF,CADF,CADF;AA2BD,CA9CD;;AAgDAX,UAAU,CAACY,eAAX,GAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,UAAAA,GAAR,QAAQA,GAAR,EAAaC,KAAb,QAAaA,KAAb;AAAA;AAAA,2CACThB,KAAK,CAAC,sCAAD,CADI;;AAAA;AACrBiB,UAAAA,GADqB;AAAA;AAAA,2CAERA,GAAG,CAACC,IAAJ,EAFQ;;AAAA;AAErBA,UAAAA,IAFqB;AAG3BX,UAAAA,OAAO,CAACC,GAAR,CAAYU,IAAZ;AAH2B,2CAIpBA,IAJoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA7B;;AASA,eAAehB,UAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useAppContext } from \"./comps/context.js\";\nimport fetch from \"isomorphic-unfetch\"\nimport \"../public/static/css/allclients.scss\";\nimport Navbar from \"./comps/navbar\";\n\n\n\n\nconst AllClients = (allClients) => {\n  const { statusUrl } = useAppContext();\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    console.log(typeof(allClients))\n  \n    setClients([allClients]);\n//     if (statusUrl !== \"\") {\n//       axios\n//         .get(`${statusUrl}/api/getclients`)\n//         .then(response => setClients([...response.data]))\n//         .catch(err => console.log(err));\n//     }\n  }, [])\n  // }, [statusUrl]);\n\n\n\n  return (\n    <div className=\"allMother\">\n      <div className=\"allMain\">\n        <section className=\"leftSect\">\n          <div className=\"headDiv\">\n            <h1 className=\"head\">Sign Ups</h1>\n          </div>\n        </section>\n        <section className=\"rightSect\">\n          <div className=\"rightSectChild\">\n            {console.log(clients)}\n            {clients.length !== 0 ? (\n              clients.map(client => (\n                <div key={client.id} className=\"clientItem\">\n                  <h3 className=\"clientEmail\">{client.email}</h3>\n                </div>\n              ))\n            ) : (\n              <div>\n                <h3>No clients yet</h3>\n              </div>\n            )}\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nAllClients.getInitialProps = async({ req, query }) => {\n  const res = await fetch(\"http://localhost:5004/api/getclients\");\n  const json = await res.json();\n  console.log(json)\n  return json\n};\n\n\n\nexport default AllClients;\n"]},"metadata":{},"sourceType":"module"}